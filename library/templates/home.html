{% extends 'base.html' %}
{% load static %}

{% block css_link %}
    <link rel="stylesheet" href="{% static 'book-list/style.css' %}">
	<link rel="stylesheet" href="{% static 'book-detail/style.css' %}">
    <style>
        .edit {
            background-image: url("{% static 'icons/edit.png' %}");
        }
        .delete {
            background-image: url("{% static 'icons/delete.png' %}");
        }
        .books {
            background-image: url("{% static 'icons/book2.png' %}");
            filter: invert(20%);
			max-width: 50px;
			max-height: 50px;
        }
		.book-info img{
			width: 100px;
			height: 160px;
			margin-top: 20px;
		}
    </style>
{% endblock %}

{% block content %}
    <form method="get">
        {% csrf_token %}
        <input type="text" name="search" placeholder="Search...">
        <input type="submit">
    </form>

    <a href="{% url 'book-create' %}">Add a new book</a>

    <table>
		<tbody>
        {% for book in books %}
			<tr>
				<td>
					<div class="each">
						<div class="book-info">
							<img src="{{ book.cover.url }}" alt="">
							<a href="{% url 'book-detail' book.id %}">{{ book.title }}</a>
						</div>
						<div class="info">
							<p><td><h1>name of author</h1>{{ book.author.all|join:", " }}</td></p>
							<p><td><h1>data of publishes</h1>{{ book.pub_date|date:"Y" }}</td></p>
						</div>
					</div>
				</td>
			</tr>
        {% endfor %}

		</tbody>
	</table>
    {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}">&laquo; Previous </a>
    {% endif %}
    {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">Next &raquo;</a>
    {% endif %}
{% endblock %}